<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Change Password</title>
    <link rel="stylesheet" href="/main.css">
</head>
<body>
    <header>
        <h1>Change Password</h1>
        <%- include('../../nav.ejs') %>
    </header>
    <main>
        <form id="changePasswordForm" method="POST" action="/user/mypage/security?_method=PUT">
            <div>
                <label for="currentPW">Current Password:</label>
                <input type="password" id="currentPW" name="currentPW" required>
            </div>
            <div>
                <label for="changePW1">New Password:</label>
                <input type="password" id="changePW1" name="changePW1" required>
            </div>
            <div>
                <label for="changePW2">Confirm New Password:</label>
                <input type="password" id="changePW2" name="changePW2" required>
            </div>
            <button type="submit">Change Password</button>
        </form>
    </main>

    <script>
        // 서버에서 전달한 메시지를 alert로 표시하고 홈페이지로 리다이렉트
        <% if (message) { %>
            alert("<%= message %>");
            window.location.href = "/"; // 홈페이지로 리다이렉트
        <% } %>
    </script>
</body>
</html>
